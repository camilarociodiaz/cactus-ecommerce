{"ast":null,"code":"var _jsxFileName = \"/Users/camilarociodiaz/Desktop/development/cactus/src/components/Context/CartContext.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext([]);\nexport const useCartContext = () => {\n  _s();\n\n  return useContext(CartContext);\n};\n\n_s(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const CartProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [show, setShow] = useState(false);\n\n  const handleShow = () => setShow(prev => !prev);\n\n  const addItem = (item, amount) => {\n    const newCart = [...cartItems];\n    const productIsInCart = isInCart(item.id);\n\n    if (productIsInCart) {\n      newCart[newCart.findIndex(prod => prod.id === productIsInCart.id)].amount += amount;\n      setCartItems(newCart);\n      return;\n    }\n\n    item.amount = amount;\n    setCartItems([...newCart]);\n\n    if (cartItems.some(product => product.id === item.id)) {\n      const copy = [...cartItems];\n      const repeatItemIndex = cartItems.findIndex(product => product.id === item.id);\n      copy[repeatItemIndex] = { ...copy[repeatItemIndex],\n        amount: copy[repeatItemIndex].amount + amount\n      };\n      setCartItems(copy);\n      setCartCount(prev => prev + amount);\n      setShow(prev => !prev);\n    } else {\n      setCartItems([...cartItems, { ...item,\n        amount\n      }]);\n      setCartCount(prev => prev + amount);\n      setShow(prev => !prev);\n    }\n  }; //borrar item del carrito\n\n\n  const deleteFromCart = product => {\n    const isInCart = id => cartItems.find(product => product.id === id);\n\n    const newCart = [...cartItems];\n    const productIsInCart = isInCart(product.id);\n\n    if (productIsInCart) {\n      newCart[newCart.findIndex(product => product.id === productIsInCart.id)].amount -= newCart.amount;\n      setCartItems(newCart);\n      return;\n    }\n\n    product.amount = newCart.amount;\n    setCartItems([...newCart, product]);\n  }; //borrar todo el carrito \n\n\n  const deleteCart = () => {\n    setCartItems([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartCount,\n      cartItems,\n      addItem,\n      show,\n      handleShow,\n      deleteFromCart,\n      deleteCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(CartProvider, \"5FOdC2suUCoHOSMSDtZWS3OZvWM=\");\n\n_c = CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/Users/camilarociodiaz/Desktop/development/cactus/src/components/Context/CartContext.jsx"],"names":["React","createContext","useContext","useState","CartContext","useCartContext","CartProvider","children","cartItems","setCartItems","cartCount","setCartCount","show","setShow","handleShow","prev","addItem","item","amount","newCart","productIsInCart","isInCart","id","findIndex","prod","some","product","copy","repeatItemIndex","deleteFromCart","find","deleteCart"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\nexport const CartContext = createContext([]);\n\nexport const useCartContext = () => useContext(CartContext);\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [show, setShow] = useState(false);\n\n\n  const handleShow = () => setShow((prev) => !prev);\n\n \n\n  const addItem = (item, amount) => {\n\n    const newCart = [...cartItems]\n    const productIsInCart = isInCart(item.id)\n\n    if(productIsInCart){\n\n      newCart[newCart.findIndex(prod => prod.id === productIsInCart.id)].amount+=amount;\n\n      setCartItems(newCart);\n      return\n  }\n  \n  item.amount = amount\n\n  setCartItems([\n      ...newCart\n  ]);\n\n    if (cartItems.some((product) => product.id === item.id)) {\n      const copy = [...cartItems];\n      const repeatItemIndex = cartItems.findIndex(\n        (product) => product.id === item.id\n      );\n      copy[repeatItemIndex] = {\n        ...copy[repeatItemIndex],\n        amount: copy[repeatItemIndex].amount + amount,\n      };\n\n      setCartItems(copy);\n      setCartCount((prev) => prev + amount);\n      setShow((prev) => !prev);\n\n    } else {\n      setCartItems([...cartItems, { ...item, amount }]);\n      setCartCount((prev) => prev + amount);\n      setShow((prev) => !prev);\n    }\n  };\n\n\n\n\n\n  //borrar item del carrito\n\n  const deleteFromCart = product => {\n\n\n    const isInCart = (id) => cartItems.find((product => product.id === id))\n    \n    const newCart = [...cartItems]\n\n    const productIsInCart = isInCart(product.id)\n\n\n    if (productIsInCart) {\n\n      newCart[newCart.findIndex(product => product.id === productIsInCart.id)].amount -= newCart.amount;\n\n      setCartItems(newCart);\n      return\n    }\n\n    product.amount = newCart.amount\n\n    setCartItems([\n      ...newCart,\n      product\n    ]);\n  }\n\n\n\n\n  //borrar todo el carrito \n\n  const deleteCart = () => { setCartItems([]) }\n\n\n  return (\n    <CartContext.Provider\n      value={{ cartCount, cartItems, addItem, show, handleShow, deleteFromCart, deleteCart }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}