{"ast":null,"code":"var _jsxFileName = \"/Users/camilarociodiaz/Desktop/development/cactus/src/components/Context/CartContext.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext([]);\nexport const useCartContext = () => {\n  _s();\n\n  return useContext(CartContext);\n};\n\n_s(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const CartProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [show, setShow] = useState(false);\n\n  const handleShow = () => setShow(prev => !prev);\n\n  const isInCart = id => {\n    cartItems.find(product => product.id === id);\n  };\n\n  console.log(isInCart);\n\n  const addItem = (item, amount) => {\n    if (cartItems.some(product => product.id === item.id)) {\n      const copy = [...cartItems];\n      const repeatItemIndex = cartItems.findIndex(product => product.id === item.id);\n      copy[repeatItemIndex] = { ...copy[repeatItemIndex],\n        amount: copy[repeatItemIndex].amount + amount\n      };\n      setCartItems(copy);\n      setCartCount(prev => prev + amount);\n      setShow(prev => !prev);\n    } else {\n      setCartItems([...cartItems, { ...item,\n        amount\n      }]);\n      setCartCount(prev => prev + amount);\n      setShow(prev => !prev);\n    }\n  }; //borrar item del carrito\n\n\n  const deleteFromCart = product => {\n    const newCart = [...cartItems];\n    const productIsInCart = isInCart(cartItems.id);\n\n    if (productIsInCart) {\n      newCart[newCart.findIndex(product => product.id === productIsInCart.id)].amount += newCart.amount;\n      setCartItems(newCart);\n      return;\n    }\n\n    product.amount = newCart.amount;\n    setCartItems([...newCart, product]);\n  }; //borrar todo el carrito \n\n\n  const deleteCart = () => {\n    setCartItems([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartCount,\n      cartItems,\n      addItem,\n      show,\n      handleShow,\n      deleteFromCart,\n      deleteCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(CartProvider, \"5FOdC2suUCoHOSMSDtZWS3OZvWM=\");\n\n_c = CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/Users/camilarociodiaz/Desktop/development/cactus/src/components/Context/CartContext.jsx"],"names":["React","createContext","useContext","useState","CartContext","useCartContext","CartProvider","children","cartItems","setCartItems","cartCount","setCartCount","show","setShow","handleShow","prev","isInCart","id","find","product","console","log","addItem","item","amount","some","copy","repeatItemIndex","findIndex","deleteFromCart","newCart","productIsInCart","deleteCart"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\nexport const CartContext = createContext([]);\n\nexport const useCartContext = () => useContext(CartContext);\n\nexport const CartProvider = ({ children }) => {\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [show, setShow] = useState(false);\n\n\n  const handleShow = () => setShow((prev) => !prev);\n\n  const isInCart = (id) => {cartItems.find(product => product.id === id)}\n\n  console.log(isInCart)\n\n  const addItem = (item, amount) => {\n    if (cartItems.some((product) => product.id === item.id)) {\n      const copy = [...cartItems];\n      const repeatItemIndex = cartItems.findIndex(\n        (product) => product.id === item.id\n      );\n      copy[repeatItemIndex] = {\n        ...copy[repeatItemIndex],\n        amount: copy[repeatItemIndex].amount + amount,\n      };\n\n      setCartItems(copy);\n      setCartCount((prev) => prev + amount);\n      setShow((prev) => !prev);\n\n    } else {\n      setCartItems([...cartItems, { ...item, amount }]);\n      setCartCount((prev) => prev + amount);\n      setShow((prev) => !prev);\n    }\n  };\n\n\n  //borrar item del carrito\n\n  const deleteFromCart = product => {\n\n    const newCart = [...cartItems]\n\n    const productIsInCart = isInCart(cartItems.id)\n\n\n    if (productIsInCart) {\n\n      newCart[newCart.findIndex(product => product.id === productIsInCart.id)].amount += newCart.amount;\n\n      setCartItems(newCart);\n      return\n    }\n\n    product.amount = newCart.amount\n\n    setCartItems([\n      ...newCart,\n      product\n    ]);\n  }\n\n\n  //borrar todo el carrito \n\n  const deleteCart = () => { setCartItems([]) }\n\n\n  return (\n    <CartContext.Provider\n      value={{ cartCount, cartItems, addItem, show, handleShow, deleteFromCart, deleteCart }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}